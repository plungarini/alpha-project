(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{Yj9t:function(e,r,t){"use strict";t.r(r),t.d(r,"AuthModule",function(){return be});var n=t("ofXK"),o=t("3Pt+"),a=t("lPP5"),i=t("F34d"),s=t("n45d"),c=t("tyNb"),l=t("XNiG"),d=t("1G5W"),b=t("fXoL");function u(e,r){1&e&&(b.Qb(0),b.Sb(1,"div",8),b.Sb(2,"span",9),b.Ec(3,"Non hai un'account? "),b.Rb(),b.Sb(4,"a",10),b.Ec(5,"Registrati"),b.Rb(),b.Rb(),b.Pb())}function g(e,r){1&e&&(b.Qb(0),b.Sb(1,"div",8),b.Sb(2,"span",9),b.Ec(3,"Sei gi\xe0 registrato? "),b.Rb(),b.Sb(4,"a",11),b.Ec(5,"Accedi"),b.Rb(),b.Rb(),b.Pb())}let m=(()=>{class e{constructor(e){this.router=e,this.showLoginBanner=!1,this.showSignupBanner=!1,this.destroyed$=new l.a}ngOnInit(){this.router.url.includes("/signup")&&(this.showLoginBanner=!0,this.showSignupBanner=!1),this.router.url.includes("/login")&&(this.showSignupBanner=!0,this.showLoginBanner=!1),this.router.events.pipe(Object(d.a)(this.destroyed$)).subscribe(e=>{this.router.url.includes("/signup")&&(this.showLoginBanner=!0,this.showSignupBanner=!1),this.router.url.includes("/login")&&(this.showSignupBanner=!0,this.showLoginBanner=!1)})}ngOnDestroy(){this.destroyed$.next(!0)}}return e.\u0275fac=function(r){return new(r||e)(b.Mb(c.g))},e.\u0275cmp=b.Gb({type:e,selectors:[["ng-component"]],decls:11,vars:4,consts:[[1,"w-screen","h-screen","auth-bg","relative","block"],[1,"flex","w-full","max-w-sm","mx-auto","bg-white","dark:bg-black-800","rounded-lg","shadow-2xl","overflow-hidden","lg:max-w-4xl","absolute","top-1/2","left-1/2","transform","-translate-y-1/2","-translate-x-1/2"],[1,"hidden","lg:block","lg:w-1/2","bg-cover",2,"background-image","url('https://images.unsplash.com/photo-1602610411365-76e8c2a88e18?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=333&q=80')"],[1,"w-full","lg:w-1/2"],["ref","router",3,"fixed","includeSpinner"],[1,"py-8","px-6","md:px-8"],[1,"text-2xl","font-semibold","text-gray-700","dark:text-white","text-center","mb-8"],[4,"ngIf"],[1,"flex","items-center","justify-center","py-4","bg-black-100","dark:bg-black-700","text-center"],[1,"text-gray-600","dark:text-gray-200","text-sm"],["routerLink","/auth/signup",1,"text-blue-600","dark:text-blue-400","font-bold","mx-2","text-sm","hover:text-blue-500"],["routerLink","/auth/login",1,"text-blue-600","dark:text-blue-400","font-bold","mx-2","text-sm","hover:text-blue-500"]],template:function(e,r){1&e&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Nb(2,"div",2),b.Sb(3,"div",3),b.Nb(4,"ngx-loading-bar",4),b.Sb(5,"div",5),b.Sb(6,"h2",6),b.Ec(7,"Brand"),b.Rb(),b.Nb(8,"router-outlet"),b.Rb(),b.Cc(9,u,6,0,"ng-container",7),b.Cc(10,g,6,0,"ng-container",7),b.Rb(),b.Rb(),b.Rb()),2&e&&(b.Ab(4),b.jc("fixed",!1)("includeSpinner",!1),b.Ab(5),b.jc("ngIf",r.showSignupBanner),b.Ab(1),b.jc("ngIf",r.showLoginBanner))},directives:[a.b,c.l,n.m,c.j],styles:[".auth-bg[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3Csvg width='52' height='26' viewBox='0 0 52 26' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%233b3b3b' fill-opacity='0.15'%3E%3Cpath d='M10 10c0-2.21-1.79-4-4-4-3.314 0-6-2.686-6-6h2c0 2.21 1.79 4 4 4 3.314 0 6 2.686 6 6 0 2.21 1.79 4 4 4 3.314 0 6 2.686 6 6 0 2.21 1.79 4 4 4v2c-3.314 0-6-2.686-6-6 0-2.21-1.79-4-4-4-3.314 0-6-2.686-6-6zm25.464-1.95l8.486 8.486-1.414 1.414-8.486-8.486 1.414-1.414z' /%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")}"],changeDetection:0}),e})();var p=t("MCIw"),f=t("lyTB");function h(e,r){1&e&&(b.Sb(0,"div",5),b.cc(),b.Sb(1,"svg",6),b.Nb(2,"path",7),b.Rb(),b.Rb())}function w(e,r){1&e&&b.Ob(0)}function v(e,r){if(1&e&&(b.Qb(0),b.Cc(1,w,1,0,"ng-container",19),b.Ec(2),b.Pb()),2&e){const e=b.dc(3),r=b.tc(4);b.Ab(1),b.jc("ngTemplateOutlet",r),b.Ab(1),b.Gc(" ",e.getPasswErrMsg()," ")}}function y(e,r){1&e&&b.Ob(0)}function x(e,r){if(1&e&&(b.Qb(0),b.Cc(1,y,1,0,"ng-container",19),b.Ec(2," La password deve contenere almeno una lettera maiuscola, una minuscola e un numero. "),b.Pb()),2&e){b.dc(3);const e=b.tc(4);b.Ab(1),b.jc("ngTemplateOutlet",e)}}function k(e,r){if(1&e&&(b.Qb(0),b.Sb(1,"span",18),b.Cc(2,v,3,2,"ng-container",15),b.Cc(3,x,3,1,"ng-container",15),b.Rb(),b.Pb()),2&e){const e=b.dc(2);b.Ab(2),b.jc("ngIf",e.resetPswForm.controls.password.invalid&&!(null!=e.resetPswForm.controls.password.errors&&e.resetPswForm.controls.password.errors.pattern)),b.Ab(1),b.jc("ngIf",null==e.resetPswForm.controls.password.errors?null:e.resetPswForm.controls.password.errors.pattern)}}function E(e,r){1&e&&b.Ob(0)}function C(e,r){if(1&e&&(b.Qb(0),b.Cc(1,E,1,0,"ng-container",19),b.Ec(2," Le Password inserite non corrispondono. "),b.Pb()),2&e){b.dc(3);const e=b.tc(4);b.Ab(1),b.jc("ngTemplateOutlet",e)}}function S(e,r){if(1&e&&(b.Qb(0),b.Sb(1,"span",18),b.Cc(2,C,3,1,"ng-container",15),b.Rb(),b.Pb()),2&e){const e=b.dc(2);b.Ab(2),b.jc("ngIf",e.resetPswForm.controls.password.value!==e.resetPswForm.controls.passwordConfirm.value)}}function R(e,r){if(1&e){const e=b.Tb();b.Qb(0),b.Sb(1,"p",8),b.Ec(2,"Verifica dell'email completata! Ora puoi impostare una nuova password."),b.Rb(),b.Sb(3,"form",9),b.Zb("ngSubmit",function(){return b.vc(e),b.dc().resetPassword()}),b.Sb(4,"div",10),b.Nb(5,"input",11),b.Sb(6,"span",12),b.Zb("click",function(){b.vc(e);const r=b.dc();return r.hide=!r.hide}),b.Nb(7,"i-bs",13),b.Rb(),b.Rb(),b.Sb(8,"div",10),b.Nb(9,"input",14),b.Sb(10,"span",12),b.Zb("click",function(){b.vc(e);const r=b.dc();return r.hide=!r.hide}),b.Nb(11,"i-bs",13),b.Rb(),b.Rb(),b.Cc(12,k,4,2,"ng-container",15),b.Cc(13,S,3,1,"ng-container",15),b.Sb(14,"div",16),b.Sb(15,"button",17),b.Ec(16," Reimposta la Password "),b.Rb(),b.Rb(),b.Rb(),b.Pb()}if(2&e){const e=b.dc();b.Ab(3),b.jc("formGroup",e.resetPswForm),b.Ab(2),b.jc("type",e.hide?"password":"text"),b.Ab(2),b.jc("name",e.hide?"eyeFill":"eyeSlashFill"),b.Ab(2),b.jc("type",e.hide?"password":"text"),b.Ab(2),b.jc("name",e.hide?"eyeFill":"eyeSlashFill"),b.Ab(1),b.jc("ngIf",e.resetPswForm.controls.password.touched&&e.resetPswForm.controls.password.invalid),b.Ab(1),b.jc("ngIf",e.resetPswForm.controls.passwordConfirm.touched&&e.resetPswForm.controls.password.value!==e.resetPswForm.controls.passwordConfirm.value),b.Ab(2),b.jc("disabled",!e.canResetPsw())}}function A(e,r){1&e&&b.Ob(0)}function P(e,r){if(1&e&&(b.Qb(0),b.Sb(1,"span",18),b.Cc(2,A,1,0,"ng-container",19),b.Ec(3),b.Rb(),b.Pb()),2&e){const e=b.dc(2),r=b.tc(4);b.Ab(2),b.jc("ngTemplateOutlet",r),b.Ab(1),b.Gc(" ",e.serverErrMessage," ")}}function j(e,r){if(1&e){const e=b.Tb();b.Qb(0),b.Sb(1,"p",8),b.Ec(2,' Il link \xe8 stato inviato, l\'invio pu\xf2 richiedere fino a 2 minuti. Controlla la tua casella di Posta Elettronica. Se non ti \xe8 arrivato, controlla lo Spam o attendi 2 minuti e poi clicca su "Invia Codice". '),b.Rb(),b.Cc(3,P,4,2,"ng-container",15),b.Sb(4,"div",20),b.Sb(5,"button",21),b.Ec(6," Torna al Login "),b.Rb(),b.Sb(7,"button",22),b.Zb("click",function(){return b.vc(e),b.dc().sendAnotherLink()}),b.Ec(8),b.Rb(),b.Rb(),b.Pb()}if(2&e){const e=b.dc();b.Ab(3),b.jc("ngIf",e.serverErrMessage),b.Ab(4),b.jc("disabled",e.sendAnotherLinkBtnDisabled),b.Ab(1),b.Gc(" ",e.sendAnotherLinkBtnDisabled?"Attendi "+e.timePassing+"s...":"Invia Codice"," ")}}function L(e,r){1&e&&b.Ob(0)}function I(e,r){if(1&e&&(b.Qb(0),b.Sb(1,"span",18),b.Cc(2,L,1,0,"ng-container",19),b.Ec(3),b.Rb(),b.Pb()),2&e){const e=b.dc(2),r=b.tc(4);b.Ab(2),b.jc("ngTemplateOutlet",r),b.Ab(1),b.Gc(" ",e.getEmailErrMsg()," ")}}function N(e,r){1&e&&b.Ob(0)}function M(e,r){if(1&e&&(b.Qb(0),b.Sb(1,"span",18),b.Cc(2,N,1,0,"ng-container",19),b.Ec(3),b.Rb(),b.Pb()),2&e){const e=b.dc(2),r=b.tc(4);b.Ab(2),b.jc("ngTemplateOutlet",r),b.Ab(1),b.Gc(" ",e.serverErrMessage," ")}}function O(e,r){if(1&e){const e=b.Tb();b.Qb(0),b.Sb(1,"p",8),b.Ec(2,"Conferma la tua email! Ti invieremo un link per impostare una nuova password."),b.Rb(),b.Sb(3,"form",23),b.Sb(4,"div",24),b.Nb(5,"input",25),b.Rb(),b.Cc(6,I,4,2,"ng-container",15),b.Cc(7,M,4,2,"ng-container",15),b.Sb(8,"div",20),b.Sb(9,"button",21),b.Ec(10," Torna al Login "),b.Rb(),b.Sb(11,"button",26),b.Zb("click",function(){return b.vc(e),b.dc().sendResPswEmail()}),b.Ec(12," Verifica l'Email "),b.Rb(),b.Rb(),b.Rb(),b.Pb()}if(2&e){const e=b.dc();b.Ab(3),b.jc("formGroup",e.verifyEmail),b.Ab(3),b.jc("ngIf",e.verifyEmail.controls.verifyEmailInput.touched&&e.verifyEmail.controls.verifyEmailInput.invalid),b.Ab(1),b.jc("ngIf",e.serverErrMessage),b.Ab(4),b.jc("disabled",!e.verifyEmail.controls.verifyEmailInput.valid)}}function q(e,r){1&e&&b.Ob(0)}function T(e,r){if(1&e&&(b.Qb(0),b.Sb(1,"span",18),b.Cc(2,q,1,0,"ng-container",19),b.Ec(3," Errore sconosciuto. Verifica la tua connessione e ricarica la pagina. Contatta l'assistenza se il problema persiste. "),b.Rb(),b.Pb()),2&e){b.dc();const e=b.tc(4);b.Ab(2),b.jc("ngTemplateOutlet",e)}}let F=(()=>{class e{constructor(e,r,t,n){this.authService=e,this.route=r,this.router=t,this.cdRef=n,this.passwordHide=!1,this.passwordValidators={minLength:8,maxLength:30},this.resetPswForm=new o.h({password:new o.e(null,[o.r.required,o.r.minLength(this.passwordValidators.minLength),o.r.maxLength(this.passwordValidators.maxLength)]),passwordConfirm:new o.e(null,[o.r.required])}),this.verifyEmail=new o.h({verifyEmailInput:new o.e(null,[o.r.required,o.r.email])}),this.mode=this.route.snapshot.queryParams.mode||"verifyEmail",this.oobCode=this.route.snapshot.queryParamMap.get("oobCode")||"",this.pageTitle="Imposta una nuova Password.",this.sendAnotherLinkBtnDisabled=!0,this.timePassing=120,this.sendPswEmailTries=0}ngOnInit(){var e;this.emailInputSub=null===(e=this.verifyEmail.get("verifyEmailInput"))||void 0===e?void 0:e.valueChanges.subscribe(e=>{this.serverErrMessage=""})}ngOnDestroy(){var e;null===(e=this.emailInputSub)||void 0===e||e.unsubscribe()}getEmailErrMsg(){var e,r;return(null===(e=this.verifyEmail.get("verifyEmailInput"))||void 0===e?void 0:e.hasError("required"))?"Inserisci la tua email.":(null===(r=this.verifyEmail.get("verifyEmailInput"))||void 0===r?void 0:r.hasError("email"))?"Inserisci una email valida.":""}getPasswErrMsg(){var e,r,t;return(null===(e=this.resetPswForm.get("password"))||void 0===e?void 0:e.hasError("required"))?"Inserisci la tua password.":(null===(r=this.resetPswForm.get("password"))||void 0===r?void 0:r.hasError("minlength"))?`La password deve contere almeno ${this.passwordValidators.minLength} caratteri.`:(null===(t=this.resetPswForm.get("password"))||void 0===t?void 0:t.hasError("maxlength"))?`La password deve essere lunga massimo ${this.passwordValidators.maxLength} caratteri.`:"Inserisci una password valida."}canResetPsw(){var e,r;const t=null===(e=this.resetPswForm.get("password"))||void 0===e?void 0:e.value,n=null===(r=this.resetPswForm.get("passwordConfirm"))||void 0===r?void 0:r.value;return!this.resetPswForm.invalid&&t===n}resetPassword(){var e;const r=null===(e=this.resetPswForm.get("password"))||void 0===e?void 0:e.value;this.canResetPsw()&&this.authService.resetPassword(this.oobCode,r).then(e=>{this.router.navigateByUrl("/auth/login")}).catch(e=>{this.serverErrMessage="Il codice potrebbe essere scaduto. Prova a ripetere il processo di reset della password o contatta l'assitenza.",this.cdRef.detectChanges()})}linkDisabledTimer(){const e=()=>{clearInterval(r),this.sendAnotherLinkBtnDisabled=!1,this.cdRef.detectChanges(),this.timePassing=120},r=setInterval(()=>{this.timePassing>0?(this.timePassing--,this.cdRef.detectChanges()):e()},1e3)}sendResPswEmail(){var e;const r=null===(e=this.verifyEmail.get("verifyEmailInput"))||void 0===e?void 0:e.value;this.authService.sendResetPswEmail(r).then(e=>{console.log("Success?",e),this.mode="verifyEmailCode",this.pageTitle="Link Inviato",this.sendPswEmailTries++,this.cdRef.detectChanges()}).catch(e=>{console.error("ERR",e),this.serverErrMessage=p.a.convertMessage(e.code,"it"),this.cdRef.detectChanges()}),this.linkDisabledTimer()}sendAnotherLink(){if(this.sendAnotherLinkBtnDisabled=!0,this.sendPswEmailTries>=4)return this.serverErrMessage="Hai fatto troppi tentativi. Riprova tra 10 minuti.",void this.cdRef.detectChanges();this.sendResPswEmail(),this.linkDisabledTimer()}}return e.\u0275fac=function(r){return new(r||e)(b.Mb(f.a),b.Mb(c.a),b.Mb(c.g),b.Mb(b.h))},e.\u0275cmp=b.Gb({type:e,selectors:[["app-forgot-password"]],decls:9,vars:5,consts:[[1,"text-xl","text-gray-600","dark:text-gray-200","text-center"],[3,"ngSwitch"],["formErrorsIcon",""],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"bg-red-200","text-red-700","rounded-full","p-1","fill-current","mr-3","w-min","inline-block","transform","translate-y-2"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"text-center","mt-2","mb-5"],[3,"formGroup","ngSubmit"],[1,"mt-4","w-full","flex"],["formControlName","password","id","password","pattern","^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{0,30}$","required","required","placeholder","Password","aria-label","Password",1,"dark:text-gray-200","w-full","mt-2","py-2","px-4","bg-white","dark:bg-black-800","text-gray-700","border","border-gray-300","dark:border-gray-600","rounded-l","block","placeholder-gray-500","dark:placeholder-gray-400","focus:border-blue-500","dark:focus:border-blue-500","focus:outline-none","focus:ring",3,"type"],[1,"cursor-pointer","transition","duration-200","dark:text-gray-500","dark:hover:text-gray-200","w-max","mt-2","py-2","px-4","bg-white","dark:bg-black-800","text-gray-700","border","border-gray-300","dark:border-gray-600","rounded-r","block",3,"click"],["width","1.25rem","height","1.25rem",1,"block",2,"margin-top","0.15rem",3,"name"],["formControlName","passwordConfirm","id","passwordConfirm","pattern","^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{0,30}$","required","required","placeholder","Conferma la Password","aria-label","Confirm Password",1,"dark:text-gray-200","w-full","mt-2","py-2","px-4","bg-white","dark:bg-black-800","text-gray-700","border","border-gray-300","dark:border-gray-600","rounded-l","block","placeholder-gray-500","dark:placeholder-gray-400","focus:border-blue-500","dark:focus:border-blue-500","focus:outline-none","focus:ring",3,"type"],[4,"ngIf"],[1,"mt-4"],["type","submit",1,"btn","primary","w-full",3,"disabled"],[1,"font-medium","text-sm","text-red-400","my-5","block"],[4,"ngTemplateOutlet"],[1,"flex","justify-between","items-center","mt-10"],["type","button","routerLink","/auth/login",1,"btn","secondary"],["type","button",1,"btn","primary",3,"disabled","click"],[3,"formGroup"],[1,"mt-4","w-full"],["formControlName","verifyEmailInput","type","email","id","email","placeholder","Indirizzo Email","required","required","aria-label","Email Address",1,"dark:text-gray-200","w-full","mt-2","py-2","px-4","bg-white","dark:bg-black-800","text-gray-700","border","border-gray-300","dark:border-gray-600","rounded","block","placeholder-gray-500","dark:placeholder-gray-400","focus:border-blue-500","dark:focus:border-blue-500","focus:outline-none","focus:ring"],["type","submit",1,"btn","primary",3,"disabled","click"]],template:function(e,r){1&e&&(b.Sb(0,"p",0),b.Ec(1),b.Rb(),b.Qb(2,1),b.Cc(3,h,3,0,"ng-template",null,2,b.Dc),b.Cc(5,R,17,8,"ng-container",3),b.Cc(6,j,9,3,"ng-container",3),b.Cc(7,O,13,4,"ng-container",3),b.Cc(8,T,4,1,"ng-container",4),b.Pb()),2&e&&(b.Ab(1),b.Fc(r.pageTitle),b.Ab(1),b.jc("ngSwitch",r.mode),b.Ab(3),b.jc("ngSwitchCase","resetPassword"),b.Ab(1),b.jc("ngSwitchCase","verifyEmailCode"),b.Ab(1),b.jc("ngSwitchCase","verifyEmail"))},directives:[n.n,n.o,n.p,o.s,o.m,o.i,o.b,o.l,o.g,o.o,o.q,s.a,n.m,n.q,c.h],encapsulation:2,changeDetection:0}),e})(),G=(()=>{class e{constructor(e){this.db=e}googleLogin(){this.db.googleLogin()}facebookLogin(){this.db.facebookLogin()}}return e.\u0275fac=function(r){return new(r||e)(b.Mb(f.a))},e.\u0275cmp=b.Gb({type:e,selectors:[["app-social-login"]],decls:9,vars:0,consts:[[1,"flex","transition","duration-200","items-center","cursor-pointer","justify-center","mt-4","text-gray-600","dark:bg-gray-700","dark:text-gray-200","rounded-lg","shadow-md","hover:bg-gray-100","dark:hover:bg-gray-600",3,"click"],[1,"px-4","py-3"],["viewBox","0 0 40 40",1,"h-6","w-6"],["d","M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.045 27.2142 24.3525 30 20 30C14.4775 30 10 25.5225 10 20C10 14.4775 14.4775 9.99999 20 9.99999C22.5492 9.99999 24.8683 10.9617 26.6342 12.5325L31.3483 7.81833C28.3717 5.04416 24.39 3.33333 20 3.33333C10.7958 3.33333 3.33335 10.7958 3.33335 20C3.33335 29.2042 10.7958 36.6667 20 36.6667C29.2042 36.6667 36.6667 29.2042 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z","fill","#FFC107"],["d","M5.25497 12.2425L10.7308 16.2583C12.2125 12.59 15.8008 9.99999 20 9.99999C22.5491 9.99999 24.8683 10.9617 26.6341 12.5325L31.3483 7.81833C28.3716 5.04416 24.39 3.33333 20 3.33333C13.5983 3.33333 8.04663 6.94749 5.25497 12.2425Z","fill","#FF3D00"],["d","M20 36.6667C24.305 36.6667 28.2167 35.0192 31.1742 32.34L26.0159 27.975C24.3425 29.2425 22.2625 30 20 30C15.665 30 11.9842 27.2359 10.5975 23.3784L5.16254 27.5659C7.92087 32.9634 13.5225 36.6667 20 36.6667Z","fill","#4CAF50"],["d","M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.7592 25.1975 27.56 26.805 26.0133 27.9758C26.0142 27.975 26.015 27.975 26.0158 27.9742L31.1742 32.3392C30.8092 32.6708 36.6667 28.3333 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z","fill","#1976D2"],[1,"px-0","py-3","w-max","text-center","font-bold"]],template:function(e,r){1&e&&(b.Sb(0,"a",0),b.Zb("click",function(){return r.googleLogin()}),b.Sb(1,"div",1),b.cc(),b.Sb(2,"svg",2),b.Nb(3,"path",3),b.Nb(4,"path",4),b.Nb(5,"path",5),b.Nb(6,"path",6),b.Rb(),b.Rb(),b.bc(),b.Sb(7,"span",7),b.Ec(8,"Registrati con Google"),b.Rb(),b.Rb())},encapsulation:2}),e})();function Q(e,r){1&e&&(b.Sb(0,"div",17),b.cc(),b.Sb(1,"svg",18),b.Nb(2,"path",19),b.Rb(),b.Rb())}function B(e,r){1&e&&b.Ob(0)}function V(e,r){if(1&e&&(b.Qb(0),b.Sb(1,"span",20),b.Cc(2,B,1,0,"ng-container",21),b.Ec(3),b.Rb(),b.Pb()),2&e){const e=b.dc(),r=b.tc(16);b.Ab(2),b.jc("ngTemplateOutlet",r),b.Ab(1),b.Gc(" ",e.loginError," ")}}function D(e,r){1&e&&b.Ob(0)}function z(e,r){if(1&e&&(b.Qb(0),b.Sb(1,"span",20),b.Cc(2,D,1,0,"ng-container",21),b.Ec(3),b.Rb(),b.Pb()),2&e){const e=b.dc(),r=b.tc(16);b.Ab(2),b.jc("ngTemplateOutlet",r),b.Ab(1),b.Gc(" ",e.getEmailErrMsg()," ")}}function Z(e,r){1&e&&b.Ob(0)}function $(e,r){if(1&e&&(b.Qb(0),b.Cc(1,Z,1,0,"ng-container",21),b.Ec(2),b.Pb()),2&e){const e=b.dc(2),r=b.tc(16);b.Ab(1),b.jc("ngTemplateOutlet",r),b.Ab(1),b.Gc(" ",e.getPasswErrMsg()," ")}}function H(e,r){1&e&&b.Ob(0)}function J(e,r){if(1&e&&(b.Qb(0),b.Cc(1,H,1,0,"ng-container",21),b.Ec(2," La password deve contenere almeno una lettera maiuscola, una minuscola e un numero. "),b.Pb()),2&e){b.dc(2);const e=b.tc(16);b.Ab(1),b.jc("ngTemplateOutlet",e)}}function K(e,r){if(1&e&&(b.Qb(0),b.Sb(1,"span",20),b.Cc(2,$,3,2,"ng-container",13),b.Cc(3,J,3,1,"ng-container",13),b.Rb(),b.Pb()),2&e){const e=b.dc();b.Ab(2),b.jc("ngIf",e.form.controls.password.invalid&&!(null!=e.form.controls.password.errors&&e.form.controls.password.errors.pattern)),b.Ab(1),b.jc("ngIf",null==e.form.controls.password.errors?null:e.form.controls.password.errors.pattern)}}function U(e,r){1&e&&(b.Sb(0,"div",24),b.cc(),b.Sb(1,"svg",25),b.Nb(2,"path",26),b.Rb(),b.Rb())}function X(e,r){1&e&&b.Ob(0)}function W(e,r){if(1&e&&(b.Qb(0),b.Sb(1,"span",27),b.Cc(2,X,1,0,"ng-container",28),b.Ec(3),b.Rb(),b.Pb()),2&e){const e=b.dc(),r=b.tc(19);b.Ab(2),b.jc("ngTemplateOutlet",r),b.Ab(1),b.Gc(" ",e.loginError," ")}}function Y(e,r){1&e&&b.Ob(0)}function _(e,r){if(1&e&&(b.Qb(0),b.Sb(1,"span",27),b.Cc(2,Y,1,0,"ng-container",28),b.Ec(3," Inserisci il tuo Nome. "),b.Rb(),b.Pb()),2&e){b.dc();const e=b.tc(19);b.Ab(2),b.jc("ngTemplateOutlet",e)}}function ee(e,r){1&e&&b.Ob(0)}function re(e,r){if(1&e&&(b.Qb(0),b.Sb(1,"span",27),b.Cc(2,ee,1,0,"ng-container",28),b.Ec(3," Inserisci il tuo Cognome. "),b.Rb(),b.Pb()),2&e){b.dc();const e=b.tc(19);b.Ab(2),b.jc("ngTemplateOutlet",e)}}function te(e,r){1&e&&b.Ob(0)}function ne(e,r){if(1&e&&(b.Qb(0),b.Sb(1,"span",27),b.Cc(2,te,1,0,"ng-container",28),b.Ec(3),b.Rb(),b.Pb()),2&e){const e=b.dc(),r=b.tc(19);b.Ab(2),b.jc("ngTemplateOutlet",r),b.Ab(1),b.Gc(" ",e.getEmailErrMsg()," ")}}function oe(e,r){1&e&&b.Ob(0)}function ae(e,r){if(1&e&&(b.Qb(0),b.Cc(1,oe,1,0,"ng-container",28),b.Ec(2),b.Pb()),2&e){const e=b.dc(2),r=b.tc(19);b.Ab(1),b.jc("ngTemplateOutlet",r),b.Ab(1),b.Gc(" ",e.getPasswErrMsg()," ")}}function ie(e,r){1&e&&b.Ob(0)}function se(e,r){if(1&e&&(b.Qb(0),b.Cc(1,ie,1,0,"ng-container",28),b.Ec(2," La password deve contenere almeno una lettera maiuscola, una minuscola e un numero. "),b.Pb()),2&e){b.dc(2);const e=b.tc(19);b.Ab(1),b.jc("ngTemplateOutlet",e)}}function ce(e,r){if(1&e&&(b.Qb(0),b.Sb(1,"span",27),b.Cc(2,ae,3,2,"ng-container",15),b.Cc(3,se,3,1,"ng-container",15),b.Rb(),b.Pb()),2&e){const e=b.dc();b.Ab(2),b.jc("ngIf",e.form.controls.password.invalid&&!(null!=e.form.controls.password.errors&&e.form.controls.password.errors.pattern)),b.Ab(1),b.jc("ngIf",null==e.form.controls.password.errors?null:e.form.controls.password.errors.pattern)}}const le=[{path:"",component:m,children:[{path:"login",component:(()=>{class e{constructor(e,r,t){this.route=e,this.db=r,this.cdRef=t,this.pageTitle="Accedi al tuo account",this.passwordValidators={minLength:8,maxLength:30},this.form=new o.h({email:new o.e("",[o.r.required,o.r.email]),password:new o.e("",[o.r.required,o.r.minLength(this.passwordValidators.minLength),o.r.maxLength(this.passwordValidators.maxLength)])}),this.hide=!0,this.hasResetPsw=this.route.snapshot.queryParams.resetPassword}ngOnInit(){const e=this.route.snapshot.queryParamMap.get("returnUrl");e&&(localStorage.setItem("returnUrl",e),this.pageTitle="Accedi per continuare")}getEmailErrMsg(){return this.form.controls.email.hasError("required")?"Inserisci la tua email.":this.form.controls.email.hasError("email")?"Inserisci una email valida.":""}getPasswErrMsg(){return this.form.controls.password.hasError("required")?"Inserisci la tua password.":this.form.controls.password.hasError("minlength")?`La password deve contere almeno ${this.passwordValidators.minLength} caratteri.`:this.form.controls.password.hasError("maxlength")?`La password deve essere lunga massimo ${this.passwordValidators.maxLength} caratteri.`:"Inserisci una password valida."}emailLogin(e){return this.loginError="",this.db.emailLogin(e.value.email,e.value.password).then(e=>(console.log(e),e)).catch(e=>(this.loginError=p.a.convertMessage(e.code,"it"),this.cdRef.detectChanges(),e))}}return e.\u0275fac=function(r){return new(r||e)(b.Mb(c.a),b.Mb(f.a),b.Mb(b.h))},e.\u0275cmp=b.Gb({type:e,selectors:[["app-login"]],inputs:{pageTitle:"pageTitle"},decls:25,vars:8,consts:[[1,"text-xl","text-gray-600","dark:text-gray-200","text-center"],[1,"mt-4","flex","items-center","justify-between"],[1,"border-b","dark:border-gray-600","w-1/5","lg:w-1/4"],[1,"text-xs","text-center","text-gray-500","dark:text-gray-400","uppercase"],[1,"border-b","dark:border-gray-400","w-1/5","lg:w-1/4"],[3,"formGroup","ngSubmit"],[1,"mt-4","w-full"],["formControlName","email","type","email","id","email","placeholder","Indirizzo Email","required","required","aria-label","Email Address",1,"dark:text-gray-200","w-full","mt-2","py-2","px-4","bg-white","dark:bg-black-800","text-gray-700","border","border-gray-300","dark:border-gray-600","rounded","block","placeholder-gray-500","dark:placeholder-gray-400","focus:border-blue-500","dark:focus:border-blue-500","focus:outline-none","focus:ring"],[1,"mt-4","w-full","flex"],["formControlName","password","id","password","pattern","^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{0,30}$","required","required","placeholder","Password","aria-label","Password",1,"dark:text-gray-200","w-full","mt-2","py-2","px-4","bg-white","dark:bg-black-800","text-gray-700","border","border-gray-300","dark:border-gray-600","rounded-l","block","placeholder-gray-500","dark:placeholder-gray-400","focus:border-blue-500","dark:focus:border-blue-500","focus:outline-none","focus:ring",3,"type"],[1,"cursor-pointer","transition","duration-200","dark:text-gray-500","dark:hover:text-gray-200","w-max","mt-2","py-2","px-4","bg-white","dark:bg-black-800","text-gray-700","border","border-gray-300","dark:border-gray-600","rounded-r","block",3,"click"],["width","1.25rem","height","1.25rem",1,"block",2,"margin-top","0.15rem",3,"name"],["formErrorsIcon",""],[4,"ngIf"],[1,"flex","justify-between","items-center","mt-4"],["routerLink","/auth/reset/new-password",1,"text-gray-600","dark:text-gray-200","text-sm","hover:text-gray-500"],["type","submit",1,"btn","primary",3,"disabled"],[1,"bg-red-200","text-red-700","rounded-full","p-1","fill-current","mr-3","w-min","inline-block","transform","translate-y-2"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"font-medium","text-sm","text-red-400","my-5","block"],[4,"ngTemplateOutlet"]],template:function(e,r){1&e&&(b.Sb(0,"p",0),b.Ec(1),b.Rb(),b.Nb(2,"app-social-login"),b.Sb(3,"div",1),b.Nb(4,"span",2),b.Sb(5,"p",3),b.Ec(6,"O utilizza l'email"),b.Rb(),b.Nb(7,"span",4),b.Rb(),b.Sb(8,"form",5),b.Zb("ngSubmit",function(){return r.emailLogin(r.form)}),b.Sb(9,"div",6),b.Nb(10,"input",7),b.Rb(),b.Sb(11,"div",8),b.Nb(12,"input",9),b.Sb(13,"span",10),b.Zb("click",function(){return r.hide=!r.hide}),b.Nb(14,"i-bs",11),b.Rb(),b.Rb(),b.Cc(15,Q,3,0,"ng-template",null,12,b.Dc),b.Cc(17,V,4,2,"ng-container",13),b.Cc(18,z,4,2,"ng-container",13),b.Cc(19,K,4,2,"ng-container",13),b.Sb(20,"div",14),b.Sb(21,"a",15),b.Ec(22,"Hai dimenticato la password?"),b.Rb(),b.Sb(23,"button",16),b.Ec(24," Accedi "),b.Rb(),b.Rb(),b.Rb()),2&e&&(b.Ab(1),b.Fc(r.pageTitle),b.Ab(7),b.jc("formGroup",r.form),b.Ab(4),b.jc("type",r.hide?"password":"text"),b.Ab(2),b.jc("name",r.hide?"eyeFill":"eyeSlashFill"),b.Ab(3),b.jc("ngIf",r.loginError),b.Ab(1),b.jc("ngIf",r.form.controls.email.touched&&r.form.controls.email.invalid),b.Ab(1),b.jc("ngIf",r.form.controls.password.touched&&r.form.controls.password.invalid),b.Ab(4),b.jc("disabled",!r.form.valid))},directives:[G,o.s,o.m,o.i,o.b,o.l,o.g,o.q,o.o,s.a,n.m,c.j,n.q],encapsulation:2,changeDetection:0}),e})()},{path:"email/action",component:F},{path:"reset/new-password",component:F},{path:"signup",component:(()=>{class e{constructor(e,r){this.db=e,this.cdRef=r,this.passwordValidators={minLength:8,maxLength:30},this.form=new o.h({firstName:new o.e("",[o.r.required]),lastName:new o.e("",[o.r.required]),email:new o.e("",[o.r.required,o.r.email]),password:new o.e("",[o.r.required,o.r.minLength(this.passwordValidators.minLength),o.r.maxLength(this.passwordValidators.maxLength)]),termsAndConditions:new o.e(!1)}),this.hide=!0}ngOnInit(){}getEmailErrMsg(){return this.form.controls.email.hasError("required")?"Inserisci la tua email.":this.form.controls.email.hasError("email")?"Inserisci una email valida.":""}getPasswErrMsg(){return this.form.controls.password.hasError("required")?"Inserisci la tua password.":this.form.controls.password.hasError("minlength")?`La password deve contere almeno ${this.passwordValidators.minLength} caratteri.`:this.form.controls.password.hasError("maxlength")?`La password deve essere lunga massimo ${this.passwordValidators.maxLength} caratteri.`:"Inserisci una password valida."}emailSignup(e){if(e.controls.termsAndConditions.value)return this.loginError="",this.db.emailSignup(e.value.email,e.value.password).then(e=>{if(void 0!==e)return this.loginError=p.a.convertMessage(e.code,"it"),this.cdRef.detectChanges(),e}).catch(e=>(this.loginError=p.a.convertMessage(e.code,"it"),this.cdRef.detectChanges(),e));this.loginError="Devi accettare le Condizioni Generali per continuare."}}return e.\u0275fac=function(r){return new(r||e)(b.Mb(f.a),b.Mb(b.h))},e.\u0275cmp=b.Gb({type:e,selectors:[["app-signup"]],decls:40,vars:7,consts:[[1,"text-xl","text-gray-600","dark:text-gray-200","text-center"],[1,"mt-4","flex","items-center","justify-between"],[1,"border-b","dark:border-gray-600","w-1/5","lg:w-1/4"],[1,"text-xs","text-center","text-gray-500","dark:text-gray-400","uppercase"],[1,"border-b","dark:border-gray-400","w-1/5","lg:w-1/4"],[3,"formGroup","ngSubmit"],[1,"mt-4","flex","flex-row","w-full"],[1,"flex-auto","mr-2"],["formControlName","firstName","type","text","id","firstName","placeholder","Nome","required","required","aria-label","First Name",1,"dark:text-gray-200","w-full","mt-2","py-2","px-4","bg-white","dark:bg-black-800","text-gray-700","border","border-gray-300","dark:border-gray-600","rounded","block","placeholder-gray-500","dark:placeholder-gray-400","focus:border-blue-500","dark:focus:border-blue-500","focus:outline-none","focus:ring"],[1,"flex-auto","ml-2"],["formControlName","lastName","type","text","id","lastName","placeholder","Cognome","required","required","aria-label","Last Name",1,"dark:text-gray-200","w-full","mt-2","py-2","px-4","bg-white","dark:bg-black-800","text-gray-700","border","border-gray-300","dark:border-gray-600","rounded","block","placeholder-gray-500","dark:placeholder-gray-400","focus:border-blue-500","dark:focus:border-blue-500","focus:outline-none","focus:ring"],[1,"mt-4","w-full"],["formControlName","email","type","email","id","email","placeholder","Indirizzo Email","required","required","aria-label","Email Address",1,"dark:text-gray-200","w-full","mt-2","py-2","px-4","bg-white","dark:bg-black-800","text-gray-700","border","border-gray-300","dark:border-gray-600","rounded","block","placeholder-gray-500","dark:placeholder-gray-400","focus:border-blue-500","dark:focus:border-blue-500","focus:outline-none","focus:ring"],["formControlName","password","id","password","type","password","pattern","^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{0,30}$","required","required","placeholder","Password","aria-label","Password",1,"dark:text-gray-200","w-full","mt-2","py-2","px-4","bg-white","dark:bg-black-800","text-gray-700","border","border-gray-300","dark:border-gray-600","rounded","block","placeholder-gray-500","dark:placeholder-gray-400","focus:border-blue-500","dark:focus:border-blue-500","focus:outline-none","focus:ring"],["formErrorsIcon",""],[4,"ngIf"],[1,"flex","items-start","py-5"],[1,"flex","items-center","h-5"],["formControlName","termsAndConditions","id","termsAndConditions","name","termsAndConditions","type","checkbox",1,"focus:ring-indigo-500","h-4","w-4","text-indigo-600","border-gray-300","rounded"],[1,"ml-3","text-sm"],["for","termsAndConditions",1,"text-sm","py-2","text-gray-400","text-left"],["routerLink","/",1,"font-semibold","text-black","border-b-2","border-gray-200","hover:border-gray-500"],[1,"mt-4"],["type","submit",1,"btn","primary","w-full",3,"disabled"],[1,"bg-red-200","text-red-700","rounded-full","p-1","fill-current","mr-3","w-min","inline-block","transform","translate-y-2"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"font-medium","text-sm","text-red-400","my-5","block"],[4,"ngTemplateOutlet"]],template:function(e,r){1&e&&(b.Sb(0,"p",0),b.Ec(1,"Iscriviti ad AlphaProject"),b.Rb(),b.Nb(2,"app-social-login"),b.Sb(3,"div",1),b.Nb(4,"span",2),b.Sb(5,"p",3),b.Ec(6,"o utilizza l'email"),b.Rb(),b.Nb(7,"span",4),b.Rb(),b.Sb(8,"form",5),b.Zb("ngSubmit",function(){return r.emailSignup(r.form)}),b.Sb(9,"div",6),b.Sb(10,"div",7),b.Nb(11,"input",8),b.Rb(),b.Sb(12,"div",9),b.Nb(13,"input",10),b.Rb(),b.Rb(),b.Sb(14,"div",11),b.Nb(15,"input",12),b.Rb(),b.Sb(16,"div",11),b.Nb(17,"input",13),b.Rb(),b.Cc(18,U,3,0,"ng-template",null,14,b.Dc),b.Cc(20,W,4,2,"ng-container",15),b.Cc(21,_,4,1,"ng-container",15),b.Cc(22,re,4,1,"ng-container",15),b.Cc(23,ne,4,2,"ng-container",15),b.Cc(24,ce,4,2,"ng-container",15),b.Sb(25,"div",16),b.Sb(26,"div",17),b.Nb(27,"input",18),b.Rb(),b.Sb(28,"div",19),b.Sb(29,"label",20),b.Ec(30," Accetto le "),b.Sb(31,"a",21),b.Ec(32," Condizioni Generali "),b.Rb(),b.Ec(33," e l' "),b.Sb(34,"a",21),b.Ec(35," Informativa sulla Privacy "),b.Rb(),b.Ec(36," di Alpha Project. (Obbligatorio) "),b.Rb(),b.Rb(),b.Rb(),b.Sb(37,"div",22),b.Sb(38,"button",23),b.Ec(39," Registrati "),b.Rb(),b.Rb(),b.Rb()),2&e&&(b.Ab(8),b.jc("formGroup",r.form),b.Ab(12),b.jc("ngIf",r.loginError),b.Ab(1),b.jc("ngIf",r.form.controls.firstName.touched&&r.form.controls.firstName.invalid),b.Ab(1),b.jc("ngIf",r.form.controls.lastName.touched&&r.form.controls.lastName.invalid),b.Ab(1),b.jc("ngIf",r.form.controls.email.touched&&r.form.controls.email.invalid),b.Ab(1),b.jc("ngIf",r.form.controls.password.touched&&r.form.controls.password.invalid),b.Ab(14),b.jc("disabled",!r.form.valid))},directives:[G,o.s,o.m,o.i,o.b,o.l,o.g,o.q,o.o,n.m,o.a,c.j,n.q],encapsulation:2,changeDetection:0}),e})()},{path:"",pathMatch:"full",redirectTo:"login"}]}];let de=(()=>{class e{}return e.\u0275mod=b.Kb({type:e}),e.\u0275inj=b.Jb({factory:function(r){return new(r||e)},imports:[[c.k.forChild(le)],c.k]}),e})(),be=(()=>{class e{}return e.\u0275mod=b.Kb({type:e}),e.\u0275inj=b.Jb({factory:function(r){return new(r||e)},providers:[{provide:a.a,useValue:{latencyTreshold:300}}],imports:[[n.c,de,o.p,s.b.pick(s.c),o.k,i.a,a.c]]}),e})()}}]);