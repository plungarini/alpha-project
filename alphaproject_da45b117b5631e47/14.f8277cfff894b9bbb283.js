(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{Y8X3:function(t,e,r){"use strict";r.d(e,"a",function(){return l});var a=r("LRne"),n=r("lJxs"),o=r("eIep"),u=r("fXoL"),i=r("L7YA"),s=r("lyTB"),c=r("tyNb");let l=(()=>{class t{constructor(t,e,r){this.fext=t,this.auth=e,this.router=r}canActivate(t,e){return this.auth.user$.pipe(Object(n.a)(t=>{if(t)return{uid:t.id,isAdmin:t.roles.admin}}),Object(o.a)(t=>t&&t.uid?this.fext.colWithIds$(`users/${t.uid}/subscriptions`,t=>t.orderBy("created","desc")).pipe(Object(n.a)(e=>{let r=null,a=null;return e.forEach(t=>t.status?r?r<=t.created.seconds?(r=t.created.seconds,a=t.status,null):null:(r=t.created.seconds,a=t.status,null):null),t.isAdmin&&(a="active"),a})):Object(a.a)(null)),Object(n.a)(t=>"past_due"===t||"unpaid"===t||"incomplete"===t?(this.router.navigate(["/subscription"],{queryParams:{subReturnUrl:e.url}}),!1):"canceled"!==t&&"incomplete_expired"!==t&&null!==t||(this.router.navigate(["/subscription"],{queryParams:{subReturnUrl:e.url,firstSub:null===t}}),!1)))}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(i.a),u.Wb(s.a),u.Wb(c.g))},t.\u0275prov=u.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},pKmL:function(t,e,r){"use strict";r.r(e),r.d(e,"CoreModule",function(){return l});var a=r("ofXK"),n=r("tyNb"),o=r("PC/O"),u=r("Y8X3"),i=r("fXoL");const s=[{path:"dashboard",canActivate:[o.a,u.a],loadChildren:()=>Promise.all([r.e(1),r.e(5),r.e(4),r.e(6),r.e(0),r.e(23)]).then(r.bind(null,"vcto")).then(t=>t.DashboardModule)},{path:"subscription",canActivate:[o.a],loadChildren:()=>r.e(24).then(r.bind(null,"+Yqk")).then(t=>t.PaymentModule)},{path:"workout",pathMatch:"full",redirectTo:"dashboard/workout"},{path:"video",pathMatch:"full",redirectTo:"dashboard/video"},{path:"profile",pathMatch:"full",redirectTo:"dashboard/profile"},{path:"",pathMatch:"full",redirectTo:"dashboard"}];let c=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[n.k.forChild(s)],n.k]}),t})(),l=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[a.c,c]]}),t})()}}]);